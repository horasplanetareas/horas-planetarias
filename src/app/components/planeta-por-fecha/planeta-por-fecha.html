<div class="contenedor">
  <!-- TÃ­tulo principal de la vista -->
  <h2>Horas Planetarias por Fecha</h2>

  <!-- Formulario para elegir la fecha -->
  <div class="formulario">
    <label>
      Fecha:
      <input type="date" [(ngModel)]="fechaSeleccionada" />
    </label>

    <button (click)="consultar()">Consultar</button>
  </div>

  <!-- Mensaje de carga mientras se obtienen los datos -->
  <div *ngIf="cargando">Cargando...</div>

  <div class="contenedor">
  <div class="planetas-wrapper">
    <!-- Estado cargando -->
    <div *ngIf="cargando" class="loading">Cargando...</div>

    <!-- Lista de planetas y anuncios -->
    <div *ngIf="!cargando && planetas.length">
      <ng-container *ngFor="let p of planetas">
        
        <!-- Caso normal: planeta -->
        <div *ngIf="p.tipo !== 'Ad'"
             (click)="verDetalle(p)"
             [ngClass]="['tarjeta', p.nombre?.toLowerCase()]">
          <h2>{{ p.nombre }}</h2>
          <p>{{ p.tipo }}</p>
          <p class="fecha-con-icono">
            <span class="texto-fecha">
              <p>Fecha: {{ p.fecha }}</p>
              <p>Inicio: {{ p.horaInicio }} </p>
              <p>Fin: {{ p.horaFin }}</p>
            </span>
            <span class="icono" *ngIf="p.dia">
              <i class="bi bi-brightness-low-fill"
                 style="font-size: 2rem; color: #FFC107;"></i>
            </span>
            <span class="icono" *ngIf="!p.dia">
              <i class="bi bi-moon-stars-fill"
                 style="font-size: 2rem; color: #6C757D;"></i>
            </span>
          </p>
        </div>

        <!-- Caso anuncio: solo banner, igual a tarjeta de planeta -->
        <div *ngIf="p.tipo === 'Ad'" class="tarjeta anuncio">
          <app-adsterra></app-adsterra>
        </div>

      </ng-container>
    </div>
  </div>
</div>

